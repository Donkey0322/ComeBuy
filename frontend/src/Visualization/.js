const data = [
  {
    date: "2023-01-01",
    location: "全台",
    drink: "海神",
    price: 120,
    amount: 3,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0032,
    amount_proportion: 0.0045,
    constraints: [],
    all: ["去冰", "半糖", "芋", "椰果"],
  },
  {
    date: "2023-01-01",
    location: "全台",
    drink: "海神",
    price: 410,
    amount: 7,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0111,
    amount_proportion: 0.0104,
    constraints: [],
    all: ["正常冰", "半糖"],
  },
  {
    date: "2023-01-01",
    location: "全台",
    drink: "海神",
    price: 495,
    amount: 9,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0133,
    amount_proportion: 0.0134,
    constraints: [],
    all: ["正常冰", "半糖", "椰果", "珍珠"],
  },
  {
    date: "2023-01-01",
    location: "全台",
    drink: "海神",
    price: 475,
    amount: 8,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0128,
    amount_proportion: 0.0119,
    constraints: [],
    all: ["正常冰", "半糖", "珍珠"],
  },
  {
    date: "2023-01-01",
    location: "全台",
    drink: "海神",
    price: 835,
    amount: 15,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0225,
    amount_proportion: 0.0223,
    constraints: [],
    all: ["去冰", "正常糖"],
  },
  {
    date: "2023-01-01",
    location: "全台",
    drink: "海神",
    price: 730,
    amount: 16,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0197,
    amount_proportion: 0.0238,
    constraints: [],
    all: ["去冰", "正常糖", "椰果"],
  },
  {
    date: "2023-01-01",
    location: "全台",
    drink: "海神",
    price: 540,
    amount: 9,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0146,
    amount_proportion: 0.0134,
    constraints: [],
    all: ["去冰", "正常糖", "椰果", "珍珠"],
  },
  {
    date: "2023-01-01",
    location: "全台",
    drink: "海神",
    price: 670,
    amount: 12,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0181,
    amount_proportion: 0.0178,
    constraints: [],
    all: ["去冰", "正常糖", "珍珠"],
  },
  {
    date: "2023-01-01",
    location: "全台",
    drink: "海神",
    price: 475,
    amount: 9,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0128,
    amount_proportion: 0.0134,
    constraints: [],
    all: ["去冰", "半糖"],
  },
  {
    date: "2023-01-01",
    location: "全台",
    drink: "海神",
    price: 505,
    amount: 10,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0136,
    amount_proportion: 0.0149,
    constraints: [],
    all: ["去冰", "半糖", "椰果"],
  },
  {
    date: "2023-01-01",
    location: "全台",
    drink: "海神",
    price: 350,
    amount: 5,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0094,
    amount_proportion: 0.0074,
    constraints: [],
    all: ["去冰", "半糖", "椰果", "珍珠"],
  },
  {
    date: "2023-01-01",
    location: "全台",
    drink: "海神",
    price: 160,
    amount: 4,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0043,
    amount_proportion: 0.0059,
    constraints: [],
    all: ["去冰", "半糖", "珍珠"],
  },
  {
    date: "2023-01-01",
    location: "全台",
    drink: "海神",
    price: 300,
    amount: 5,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0081,
    amount_proportion: 0.0074,
    constraints: [],
    all: ["去冰", "半糖", "芋"],
  },
  {
    date: "2023-01-02",
    location: "全台",
    drink: "海神",
    price: 1280,
    amount: 26,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0345,
    amount_proportion: 0.0386,
    constraints: [],
    all: ["去冰", "半糖", "芋"],
  },
  {
    date: "2023-01-02",
    location: "全台",
    drink: "海神",
    price: 380,
    amount: 9,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0102,
    amount_proportion: 0.0134,
    constraints: [],
    all: ["去冰", "半糖", "芋", "椰果"],
  },
  {
    date: "2023-01-02",
    location: "全台",
    drink: "海神",
    price: 490,
    amount: 8,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0132,
    amount_proportion: 0.0119,
    constraints: [],
    all: ["去冰", "半糖", "芋", "珍珠"],
  },
  {
    date: "2023-01-02",
    location: "全台",
    drink: "海神",
    price: 525,
    amount: 9,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0142,
    amount_proportion: 0.0134,
    constraints: [],
    all: ["去冰", "半糖", "芋", "椰果", "珍珠"],
  },
  {
    date: "2023-01-02",
    location: "全台",
    drink: "海神",
    price: 380,
    amount: 7,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0102,
    amount_proportion: 0.0104,
    constraints: [],
    all: ["正常冰", "半糖"],
  },
  {
    date: "2023-01-02",
    location: "全台",
    drink: "海神",
    price: 180,
    amount: 3,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0049,
    amount_proportion: 0.0045,
    constraints: [],
    all: ["正常冰", "半糖", "椰果"],
  },
  {
    date: "2023-01-02",
    location: "全台",
    drink: "海神",
    price: 180,
    amount: 3,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0049,
    amount_proportion: 0.0045,
    constraints: [],
    all: ["正常冰", "半糖", "椰果", "珍珠"],
  },
  {
    date: "2023-01-02",
    location: "全台",
    drink: "海神",
    price: 385,
    amount: 8,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0104,
    amount_proportion: 0.0119,
    constraints: [],
    all: ["去冰", "正常糖"],
  },
  {
    date: "2023-01-02",
    location: "全台",
    drink: "海神",
    price: 325,
    amount: 7,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0088,
    amount_proportion: 0.0104,
    constraints: [],
    all: ["去冰", "正常糖", "椰果", "珍珠"],
  },
  {
    date: "2023-01-02",
    location: "全台",
    drink: "海神",
    price: 220,
    amount: 4,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0059,
    amount_proportion: 0.0059,
    constraints: [],
    all: ["去冰", "正常糖", "珍珠"],
  },
  {
    date: "2023-01-02",
    location: "全台",
    drink: "海神",
    price: 250,
    amount: 4,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0067,
    amount_proportion: 0.0059,
    constraints: [],
    all: ["去冰", "半糖"],
  },
  {
    date: "2023-01-02",
    location: "全台",
    drink: "海神",
    price: 450,
    amount: 7,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0121,
    amount_proportion: 0.0104,
    constraints: [],
    all: ["去冰", "半糖", "椰果"],
  },
  {
    date: "2023-01-02",
    location: "全台",
    drink: "海神",
    price: 630,
    amount: 12,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.017,
    amount_proportion: 0.0178,
    constraints: [],
    all: ["去冰", "半糖", "椰果", "珍珠"],
  },
  {
    date: "2023-01-02",
    location: "全台",
    drink: "海神",
    price: 120,
    amount: 3,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0032,
    amount_proportion: 0.0045,
    constraints: [],
    all: ["去冰", "半糖", "珍珠"],
  },
  {
    date: "2023-01-03",
    location: "全台",
    drink: "海神",
    price: 140,
    amount: 2,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0038,
    amount_proportion: 0.003,
    constraints: [],
    all: ["正常冰", "半糖", "椰果"],
  },
  {
    date: "2023-01-03",
    location: "全台",
    drink: "海神",
    price: 820,
    amount: 13,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0221,
    amount_proportion: 0.0193,
    constraints: [],
    all: ["去冰", "半糖", "芋", "珍珠"],
  },
  {
    date: "2023-01-03",
    location: "全台",
    drink: "海神",
    price: 1015,
    amount: 20,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0274,
    amount_proportion: 0.0297,
    constraints: [],
    all: ["去冰", "半糖", "芋", "椰果", "珍珠"],
  },
  {
    date: "2023-01-03",
    location: "全台",
    drink: "海神",
    price: 90,
    amount: 2,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0024,
    amount_proportion: 0.003,
    constraints: [],
    all: ["去冰", "半糖", "芋", "椰果"],
  },
  {
    date: "2023-01-03",
    location: "全台",
    drink: "海神",
    price: 600,
    amount: 10,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0162,
    amount_proportion: 0.0149,
    constraints: [],
    all: ["去冰", "半糖", "芋"],
  },
  {
    date: "2023-01-03",
    location: "全台",
    drink: "海神",
    price: 260,
    amount: 4,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.007,
    amount_proportion: 0.0059,
    constraints: [],
    all: ["去冰", "半糖", "珍珠"],
  },
  {
    date: "2023-01-03",
    location: "全台",
    drink: "海神",
    price: 595,
    amount: 12,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.016,
    amount_proportion: 0.0178,
    constraints: [],
    all: ["去冰", "半糖", "椰果", "珍珠"],
  },
  {
    date: "2023-01-03",
    location: "全台",
    drink: "海神",
    price: 240,
    amount: 4,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0065,
    amount_proportion: 0.0059,
    constraints: [],
    all: ["去冰", "半糖", "椰果"],
  },
  {
    date: "2023-01-03",
    location: "全台",
    drink: "海神",
    price: 680,
    amount: 12,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0183,
    amount_proportion: 0.0178,
    constraints: [],
    all: ["去冰", "半糖"],
  },
  {
    date: "2023-01-03",
    location: "全台",
    drink: "海神",
    price: 300,
    amount: 5,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0081,
    amount_proportion: 0.0074,
    constraints: [],
    all: ["去冰", "正常糖", "椰果", "珍珠"],
  },
  {
    date: "2023-01-03",
    location: "全台",
    drink: "海神",
    price: 955,
    amount: 17,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0258,
    amount_proportion: 0.0253,
    constraints: [],
    all: ["去冰", "正常糖"],
  },
  {
    date: "2023-01-03",
    location: "全台",
    drink: "海神",
    price: 165,
    amount: 3,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0044,
    amount_proportion: 0.0045,
    constraints: [],
    all: ["正常冰", "半糖", "椰果", "珍珠"],
  },
  {
    date: "2023-01-03",
    location: "全台",
    drink: "海神",
    price: 375,
    amount: 8,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0101,
    amount_proportion: 0.0119,
    constraints: [],
    all: ["正常冰", "半糖"],
  },
  {
    date: "2023-01-01",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 560,
    amount: 9,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0151,
    amount_proportion: 0.0134,
    constraints: [],
    all: ["去冰", "半糖", "珍珠"],
  },
  {
    date: "2023-01-01",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 540,
    amount: 9,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0146,
    amount_proportion: 0.0134,
    constraints: [],
    all: ["正常冰", "半糖", "椰果"],
  },
  {
    date: "2023-01-01",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 380,
    amount: 7,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0102,
    amount_proportion: 0.0104,
    constraints: [],
    all: ["正常冰", "半糖", "椰果", "珍珠"],
  },
  {
    date: "2023-01-01",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 650,
    amount: 12,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0175,
    amount_proportion: 0.0178,
    constraints: [],
    all: ["正常冰", "半糖", "珍珠"],
  },
  {
    date: "2023-01-01",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 100,
    amount: 2,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0027,
    amount_proportion: 0.003,
    constraints: [],
    all: ["去冰", "正常糖"],
  },
  {
    date: "2023-01-01",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 415,
    amount: 7,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0112,
    amount_proportion: 0.0104,
    constraints: [],
    all: ["去冰", "正常糖", "椰果"],
  },
  {
    date: "2023-01-01",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 525,
    amount: 9,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0142,
    amount_proportion: 0.0134,
    constraints: [],
    all: ["去冰", "正常糖", "椰果", "珍珠"],
  },
  {
    date: "2023-01-01",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 165,
    amount: 3,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0044,
    amount_proportion: 0.0045,
    constraints: [],
    all: ["去冰", "正常糖", "珍珠"],
  },
  {
    date: "2023-01-01",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 150,
    amount: 3,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.004,
    amount_proportion: 0.0045,
    constraints: [],
    all: ["去冰", "半糖"],
  },
  {
    date: "2023-01-01",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 555,
    amount: 9,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.015,
    amount_proportion: 0.0134,
    constraints: [],
    all: ["去冰", "半糖", "椰果"],
  },
  {
    date: "2023-01-01",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 260,
    amount: 4,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.007,
    amount_proportion: 0.0059,
    constraints: [],
    all: ["正常冰", "半糖"],
  },
  {
    date: "2023-01-01",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 670,
    amount: 13,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0181,
    amount_proportion: 0.0193,
    constraints: [],
    all: ["去冰", "半糖", "芋"],
  },
  {
    date: "2023-01-01",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 495,
    amount: 10,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0133,
    amount_proportion: 0.0149,
    constraints: [],
    all: ["去冰", "半糖", "芋", "椰果"],
  },
  {
    date: "2023-01-01",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 685,
    amount: 13,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0185,
    amount_proportion: 0.0193,
    constraints: [],
    all: ["去冰", "半糖", "芋", "椰果", "珍珠"],
  },
  {
    date: "2023-01-01",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 470,
    amount: 9,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0127,
    amount_proportion: 0.0134,
    constraints: [],
    all: ["去冰", "半糖", "芋", "珍珠"],
  },
  {
    date: "2023-01-02",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 520,
    amount: 8,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.014,
    amount_proportion: 0.0119,
    constraints: [],
    all: ["去冰", "半糖", "芋", "珍珠"],
  },
  {
    date: "2023-01-02",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 390,
    amount: 6,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0105,
    amount_proportion: 0.0089,
    constraints: [],
    all: ["去冰", "半糖", "芋", "椰果", "珍珠"],
  },
  {
    date: "2023-01-02",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 100,
    amount: 2,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0027,
    amount_proportion: 0.003,
    constraints: [],
    all: ["去冰", "半糖", "芋", "椰果"],
  },
  {
    date: "2023-01-02",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 435,
    amount: 7,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0117,
    amount_proportion: 0.0104,
    constraints: [],
    all: ["去冰", "半糖", "芋"],
  },
  {
    date: "2023-01-02",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 680,
    amount: 13,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0183,
    amount_proportion: 0.0193,
    constraints: [],
    all: ["去冰", "半糖", "珍珠"],
  },
  {
    date: "2023-01-02",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 150,
    amount: 3,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.004,
    amount_proportion: 0.0045,
    constraints: [],
    all: ["去冰", "半糖", "椰果", "珍珠"],
  },
  {
    date: "2023-01-02",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 450,
    amount: 7,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0121,
    amount_proportion: 0.0104,
    constraints: [],
    all: ["去冰", "半糖", "椰果"],
  },
  {
    date: "2023-01-02",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 890,
    amount: 17,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.024,
    amount_proportion: 0.0253,
    constraints: [],
    all: ["去冰", "半糖"],
  },
  {
    date: "2023-01-02",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 160,
    amount: 4,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0043,
    amount_proportion: 0.0059,
    constraints: [],
    all: ["去冰", "正常糖", "珍珠"],
  },
  {
    date: "2023-01-02",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 280,
    amount: 5,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0076,
    amount_proportion: 0.0074,
    constraints: [],
    all: ["去冰", "正常糖", "椰果", "珍珠"],
  },
  {
    date: "2023-01-02",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 570,
    amount: 10,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0154,
    amount_proportion: 0.0149,
    constraints: [],
    all: ["去冰", "正常糖", "椰果"],
  },
  {
    date: "2023-01-02",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 475,
    amount: 11,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0128,
    amount_proportion: 0.0163,
    constraints: [],
    all: ["去冰", "正常糖"],
  },
  {
    date: "2023-01-02",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 325,
    amount: 5,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0088,
    amount_proportion: 0.0074,
    constraints: [],
    all: ["正常冰", "半糖", "椰果", "珍珠"],
  },
  {
    date: "2023-01-02",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 135,
    amount: 3,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0036,
    amount_proportion: 0.0045,
    constraints: [],
    all: ["正常冰", "半糖", "椰果"],
  },
  {
    date: "2023-01-02",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 505,
    amount: 9,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0136,
    amount_proportion: 0.0134,
    constraints: [],
    all: ["正常冰", "半糖"],
  },
  {
    date: "2023-01-03",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 110,
    amount: 2,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.003,
    amount_proportion: 0.003,
    constraints: [],
    all: ["去冰", "半糖", "芋", "椰果", "珍珠"],
  },
  {
    date: "2023-01-03",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 585,
    amount: 10,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0158,
    amount_proportion: 0.0149,
    constraints: [],
    all: ["去冰", "半糖", "芋", "珍珠"],
  },
  {
    date: "2023-01-03",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 275,
    amount: 5,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0074,
    amount_proportion: 0.0074,
    constraints: [],
    all: ["正常冰", "半糖", "椰果"],
  },
  {
    date: "2023-01-03",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 380,
    amount: 7,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0102,
    amount_proportion: 0.0104,
    constraints: [],
    all: ["正常冰", "半糖", "椰果", "珍珠"],
  },
  {
    date: "2023-01-03",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 470,
    amount: 7,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0127,
    amount_proportion: 0.0104,
    constraints: [],
    all: ["正常冰", "半糖", "珍珠"],
  },
  {
    date: "2023-01-03",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 280,
    amount: 4,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0076,
    amount_proportion: 0.0059,
    constraints: [],
    all: ["去冰", "正常糖"],
  },
  {
    date: "2023-01-03",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 550,
    amount: 11,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0148,
    amount_proportion: 0.0163,
    constraints: [],
    all: ["去冰", "正常糖", "椰果"],
  },
  {
    date: "2023-01-03",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 405,
    amount: 7,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0109,
    amount_proportion: 0.0104,
    constraints: [],
    all: ["去冰", "正常糖", "椰果", "珍珠"],
  },
  {
    date: "2023-01-03",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 180,
    amount: 3,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0049,
    amount_proportion: 0.0045,
    constraints: [],
    all: ["去冰", "正常糖", "珍珠"],
  },
  {
    date: "2023-01-03",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 550,
    amount: 9,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0148,
    amount_proportion: 0.0134,
    constraints: [],
    all: ["去冰", "半糖"],
  },
  {
    date: "2023-01-03",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 430,
    amount: 8,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0116,
    amount_proportion: 0.0119,
    constraints: [],
    all: ["去冰", "半糖", "椰果"],
  },
  {
    date: "2023-01-03",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 780,
    amount: 14,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.021,
    amount_proportion: 0.0208,
    constraints: [],
    all: ["去冰", "半糖", "椰果", "珍珠"],
  },
  {
    date: "2023-01-03",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 325,
    amount: 5,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0088,
    amount_proportion: 0.0074,
    constraints: [],
    all: ["去冰", "半糖", "珍珠"],
  },
  {
    date: "2023-01-03",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 620,
    amount: 11,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0167,
    amount_proportion: 0.0163,
    constraints: [],
    all: ["去冰", "半糖", "芋"],
  },
  {
    date: "2023-01-03",
    location: "全台",
    drink: "鮮萃大麥紅茶",
    price: 365,
    amount: 7,
    total_price: 37085,
    total_amount: 673,
    price_proportion: 0.0098,
    amount_proportion: 0.0104,
    constraints: [],
    all: ["去冰", "半糖", "芋", "椰果"],
  },
];

let groupedData = data.reduce(
  (
    acc,
    {
      date,
      location,
      drink,
      price,
      amount,
      total_price,
      total_amount,
      price_proportion,
      amount_proportion,
    }
  ) => {
    const key = `${date}/${location}/${drink}`;

    if (!acc[key]) {
      acc[key] = {
        price: 0,
        amount: 0,
        total_price,
        total_amount,
        price_proportion: 0,
        amount_proportion: 0,
      };
    }

    acc[key].price = acc[key].price + price;
    acc[key].amount = acc[key].amount + amount;
    acc[key].price_proportion = acc[key].price_proportion + price_proportion;
    acc[key].amount_proportion = acc[key].amount_proportion + amount_proportion;
    return acc;
  },
  {}
);

groupedData = Object.keys(groupedData).map((m) => {
  let [date, location, drink] = m.split("/");
  return { date, location, drink, ...groupedData[m] };
});

const dataFormatProcessing = (rawData, type = "杯數佔比") => {
  let location = new Set();
  const result = [...new Set(rawData.map((m) => m.date))].map((date, index) => {
    let temp = { date };
    temp = rawData?.reduce((acc, curr) => {
      if (curr.date === date) {
        acc[`${curr.location} ${curr.drink}`] =
          curr[type === "杯數佔比" ? "amount_proportion" : "price_proportion"];
        location.add(`${curr.location} ${curr.drink}`);
      }
      return acc;
    }, temp);
    return temp;
  });

  return {
    data: result,
    point: [...location].map((l) => ({ name: l, hide: false })),
  };
};

console.log(dataFormatProcessing(groupedData));

// import Moment from "moment";
// import "moment/locale/zh-tw";
// import { extendMoment } from "moment-range";
// const moment = extendMoment(Moment);
// console.log(moment("2022-03-25"));
